CREATE TABLE pins (
  file_id INTEGER NOT NULL,
  application_id TEXT NOT NULL
);

CREATE UNIQUE INDEX pins_file_id_application_name ON pins(file_id, application_id);
CREATE INDEX pins_application_name ON pins(application_id);

delete_pin:
DELETE FROM pins WHERE application_id = ? AND file_id IN ?;

create_pin:
INSERT INTO pins(file_id, application_id)
VALUES (?, ?);

get_pin:
SELECT * FROM pins WHERE file_id = ? AND application_id = ? ;

get_pins:
SELECT * FROM pins WHERE application_id = ?;
